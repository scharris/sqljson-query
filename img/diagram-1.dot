digraph  Diagram1 {
  {
    qs [label="Query Specifications\n(query-specs.ts)" shape=note style=filled fillcolor=yellow]
    dbmd [label="Database Metadata\n(dbmd.json)" shape=note]
    mdf [label="dbmd fetcher" shape=invhouse style=filled fillcolor=lightblue]
    db [label="Database" shape=cylinder style=filled fillcolor=yellow]
    rd [label="Result Types\n(Java/TypeScript)" ]
    sjq [label="Query Generator" shape=invhouse height=1.2 style=filled fillcolor=lightblue]
    sql [label="SQL files"]
  }
  db -> mdf -> dbmd
  qs -> sjq
  dbmd -> sjq
  sjq -> sql
  sjq -> rd

  { rank = sink;
    space [shape="rectangle" fixedsize=true  label="source" color="none"]
    node [margin=0 fontcolor=blue fontsize=10  style=filled]
    Legend [shape=none, label=<
    <TABLE BORDER="0" CELLBORDER="1" CELLSPACING="5" CELLPADDING="4">
     <TR>
      <TD color="white" bgcolor="yellow">provided by developer</TD>
      <TD color="white"  bgcolor="lightblue">included with SQL/JSON Query</TD>
      <TD bgcolor="white">output</TD>
     </TR>
    </TABLE>
   >];
  }
}
