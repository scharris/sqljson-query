SET DATABASE UNIQUE NAME HSQLDB86A9D06310
SET DATABASE DEFAULT RESULT MEMORY ROWS 0
SET DATABASE EVENT LOG LEVEL 0
SET DATABASE TRANSACTION CONTROL LOCKS
SET DATABASE DEFAULT ISOLATION LEVEL READ COMMITTED
SET DATABASE TRANSACTION ROLLBACK ON CONFLICT TRUE
SET DATABASE TEXT TABLE DEFAULTS ''
SET DATABASE SQL NAMES FALSE
SET DATABASE SQL RESTRICT EXEC FALSE
SET DATABASE SQL REFERENCES FALSE
SET DATABASE SQL SIZE TRUE
SET DATABASE SQL TYPES FALSE
SET DATABASE SQL TDC DELETE TRUE
SET DATABASE SQL TDC UPDATE TRUE
SET DATABASE SQL SYS INDEX NAMES TRUE
SET DATABASE SQL CONCAT NULLS TRUE
SET DATABASE SQL UNIQUE NULLS TRUE
SET DATABASE SQL CONVERT TRUNCATE TRUE
SET DATABASE SQL AVG SCALE 0
SET DATABASE SQL DOUBLE NAN TRUE
SET FILES WRITE DELAY 500 MILLIS
SET FILES BACKUP INCREMENT TRUE
SET FILES CACHE SIZE 10000
SET FILES CACHE ROWS 50000
SET FILES SCALE 32
SET FILES LOB SCALE 32
SET FILES DEFRAG 0
SET FILES NIO TRUE
SET FILES NIO SIZE 256
SET FILES LOG TRUE
SET FILES LOG SIZE 50
SET FILES CHECK 1463
ALTER CATALOG PUBLIC RENAME TO DRUGS
SET DATABASE COLLATION "SQL_TEXT" PAD SPACE
CREATE USER SA PASSWORD DIGEST 'd41d8cd98f00b204e9800998ecf8427e'
ALTER USER SA SET LOCAL TRUE
CREATE SCHEMA PUBLIC AUTHORIZATION DBA
CREATE SCHEMA DRUGS AUTHORIZATION SA
CREATE MEMORY TABLE DRUGS.ANALYST(ID INTEGER NOT NULL,SHORT_NAME VARCHAR(50) NOT NULL,CONSTRAINT ANALYST_PK PRIMARY KEY(ID))
CREATE MEMORY TABLE DRUGS.COMPOUND(ID INTEGER NOT NULL,DISPLAY_NAME VARCHAR(50),NCTR_ISIS_ID VARCHAR(100),SMILES VARCHAR(2000),CANONICAL_SMILES VARCHAR(2000),CAS VARCHAR(50),MOL_FORMULA VARCHAR(2000),MOL_WEIGHT NUMERIC(128),ENTERED TIMESTAMP WITH TIME ZONE,ENTERED_BY INTEGER NOT NULL,APPROVED_BY INTEGER,CONSTRAINT COMPOUND_PK PRIMARY KEY(ID),CONSTRAINT COMPOUND_ENTEREDBY_ANALYST_FK FOREIGN KEY(ENTERED_BY) REFERENCES DRUGS.ANALYST(ID),CONSTRAINT COMPOUND_APPROVEDBY_ANALYST_FK FOREIGN KEY(APPROVED_BY) REFERENCES DRUGS.ANALYST(ID))
CREATE INDEX COMPOUND_CANONSMILES_IX ON DRUGS.COMPOUND(CANONICAL_SMILES)
CREATE MEMORY TABLE DRUGS.DRUG(ID INTEGER NOT NULL,NAME VARCHAR(500) NOT NULL,COMPOUND_ID INTEGER NOT NULL,MESH_ID VARCHAR(7),DRUGBANK_ID VARCHAR(7),CID INTEGER,CATEGORY_CODE VARCHAR(1) NOT NULL,DESCR VARCHAR(500),THERAPEUTIC_INDICATIONS VARCHAR(4000),REGISTERED TIMESTAMP WITH TIME ZONE,REGISTERED_BY INTEGER NOT NULL,MARKET_ENTRY_DATE DATE,CONSTRAINT DRUG_PK PRIMARY KEY(ID),CONSTRAINT DRUG_NAME_UN UNIQUE(NAME),CONSTRAINT DRUG_COMPOUND_FK FOREIGN KEY(COMPOUND_ID) REFERENCES DRUGS.COMPOUND(ID),CONSTRAINT DRUG_MESHID_UN UNIQUE(MESH_ID),CONSTRAINT DRUG_DRUGBANKID_UN UNIQUE(DRUGBANK_ID),CONSTRAINT DRUG_ANALYST_FK FOREIGN KEY(REGISTERED_BY) REFERENCES DRUGS.ANALYST(ID))
CREATE INDEX DRUG_COMPOUNDID_IX ON DRUGS.DRUG(COMPOUND_ID)
CREATE MEMORY TABLE DRUGS.REFERENCE(ID INTEGER NOT NULL,PUBLICATION VARCHAR(2000) NOT NULL,CONSTRAINT REFERENCE_PK PRIMARY KEY(ID))
CREATE MEMORY TABLE DRUGS.DRUG_REFERENCE(DRUG_ID INTEGER NOT NULL,REFERENCE_ID INTEGER NOT NULL,PRIORITY INTEGER,CONSTRAINT DRUG_REFERENCE_PK PRIMARY KEY(DRUG_ID,REFERENCE_ID),CONSTRAINT DRUG_REFERENCE_DRUG_FK FOREIGN KEY(DRUG_ID) REFERENCES DRUGS.DRUG(ID) ON DELETE CASCADE,CONSTRAINT DRUG_REFERENCE_REFERENCE_FK FOREIGN KEY(REFERENCE_ID) REFERENCES DRUGS.REFERENCE(ID) ON DELETE CASCADE)
CREATE INDEX DRUG_REFERENCE_REFERENCEID_IX ON DRUGS.DRUG_REFERENCE(REFERENCE_ID)
CREATE MEMORY TABLE DRUGS.AUTHORITY(ID INTEGER NOT NULL,NAME VARCHAR(200) NOT NULL,URL VARCHAR(500),DESCRIPTION VARCHAR(2000),WEIGHT INTEGER DEFAULT 0,CONSTRAINT AUTHORITY_PK PRIMARY KEY(ID),CONSTRAINT AUTHORITY_NAME_UN UNIQUE(NAME))
CREATE MEMORY TABLE DRUGS.ADVISORY_TYPE(ID INTEGER NOT NULL,NAME VARCHAR(50) NOT NULL,AUTHORITY_ID INTEGER NOT NULL,CONSTRAINT ADVISORY_TYPE_PK PRIMARY KEY(ID),CONSTRAINT ADVISORY_TYPE_NAME_UN UNIQUE(NAME),CONSTRAINT ADVISORY_TYPE_AUTHORITY_FK FOREIGN KEY(AUTHORITY_ID) REFERENCES DRUGS.AUTHORITY(ID))
CREATE MEMORY TABLE DRUGS.ADVISORY(ID INTEGER NOT NULL,DRUG_ID INTEGER NOT NULL,ADVISORY_TYPE_ID INTEGER NOT NULL,TEXT VARCHAR(2000) NOT NULL,CONSTRAINT ADVISORY_PK PRIMARY KEY(ID),CONSTRAINT ADVISORY_DRUG_FK FOREIGN KEY(DRUG_ID) REFERENCES DRUGS.DRUG(ID) ON DELETE CASCADE,CONSTRAINT ADVISORY_ADVISORY_TYPE_FK FOREIGN KEY(ADVISORY_TYPE_ID) REFERENCES DRUGS.ADVISORY_TYPE(ID))
CREATE INDEX ADVISORY_ADVTYPE_IX ON DRUGS.ADVISORY(ADVISORY_TYPE_ID)
CREATE INDEX ADVISORY_DRUG_IX ON DRUGS.ADVISORY(DRUG_ID)
CREATE MEMORY TABLE DRUGS.FUNCTIONAL_CATEGORY(ID INTEGER NOT NULL,NAME VARCHAR(500) NOT NULL,DESCRIPTION VARCHAR(2000),PARENT_FUNCTIONAL_CATEGORY_ID INTEGER,CONSTRAINT CATEGORY_PK PRIMARY KEY(ID),CONSTRAINT FUNCTIONAL_CATEGORY_NAME_UN UNIQUE(NAME),CONSTRAINT FUNCAT_FUNCAT_FK FOREIGN KEY(PARENT_FUNCTIONAL_CATEGORY_ID) REFERENCES DRUGS.FUNCTIONAL_CATEGORY(ID))
CREATE INDEX FUNCAT_PARENTFUNCAT_IX ON DRUGS.FUNCTIONAL_CATEGORY(PARENT_FUNCTIONAL_CATEGORY_ID)
CREATE MEMORY TABLE DRUGS.DRUG_FUNCTIONAL_CATEGORY(DRUG_ID INTEGER NOT NULL,FUNCTIONAL_CATEGORY_ID INTEGER NOT NULL,AUTHORITY_ID INTEGER NOT NULL,SEQ INTEGER,CONSTRAINT DRUGFUNCAT_PK PRIMARY KEY(DRUG_ID,FUNCTIONAL_CATEGORY_ID,AUTHORITY_ID),CONSTRAINT DRUG_CATEGORY_DRUG_FK FOREIGN KEY(DRUG_ID) REFERENCES DRUGS.DRUG(ID) ON DELETE CASCADE,CONSTRAINT DRUG_FUNCAT_FUNCAT_FK FOREIGN KEY(FUNCTIONAL_CATEGORY_ID) REFERENCES DRUGS.FUNCTIONAL_CATEGORY(ID),CONSTRAINT DRUGFUNCAT_AUTHORITY_FK FOREIGN KEY(AUTHORITY_ID) REFERENCES DRUGS.AUTHORITY(ID))
CREATE INDEX DRUGFUNCAT_FUNCAT_IX ON DRUGS.DRUG_FUNCTIONAL_CATEGORY(FUNCTIONAL_CATEGORY_ID)
CREATE INDEX DRUGFUNCAT_AUTHORITY_IX ON DRUGS.DRUG_FUNCTIONAL_CATEGORY(AUTHORITY_ID)
CREATE MEMORY TABLE DRUGS.MANUFACTURER(ID INTEGER NOT NULL,NAME VARCHAR(200) NOT NULL,CONSTRAINT MANUFACTURER_PK PRIMARY KEY(ID),CONSTRAINT MANUFACTURER_NAME_UN UNIQUE(NAME))
CREATE MEMORY TABLE DRUGS.BRAND(DRUG_ID INTEGER NOT NULL,BRAND_NAME VARCHAR(200) NOT NULL,LANGUAGE_CODE VARCHAR(10),MANUFACTURER_ID INTEGER,CONSTRAINT BRAND_PK PRIMARY KEY(DRUG_ID,BRAND_NAME),CONSTRAINT BRAND_DRUG_FK FOREIGN KEY(DRUG_ID) REFERENCES DRUGS.DRUG(ID) ON DELETE CASCADE,CONSTRAINT BRAND_MANUFACTURER_FK FOREIGN KEY(MANUFACTURER_ID) REFERENCES DRUGS.MANUFACTURER(ID))
CREATE INDEX BRAND_MFR_IX ON DRUGS.BRAND(MANUFACTURER_ID)
ALTER SEQUENCE SYSTEM_LOBS.LOB_ID RESTART WITH 1
SET DATABASE DEFAULT INITIAL SCHEMA PUBLIC
ALTER USER SA SET INITIAL SCHEMA DRUGS
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CARDINAL_NUMBER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.YES_OR_NO TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.CHARACTER_DATA TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.SQL_IDENTIFIER TO PUBLIC
GRANT USAGE ON DOMAIN INFORMATION_SCHEMA.TIME_STAMP TO PUBLIC
GRANT DBA TO SA
SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
SET SCHEMA DRUGS
INSERT INTO ANALYST VALUES(1,'jdoe')
INSERT INTO ANALYST VALUES(2,'sch')
INSERT INTO COMPOUND VALUES(1,'Test Compound 1','ISIS-1',NULL,NULL,'51111-11',NULL,NULL,'2023-03-03 23:43:28.158359+0:00',2,1)
INSERT INTO COMPOUND VALUES(2,'Test Compound 2','ISIS-2',NULL,NULL,'52222-22',NULL,NULL,'2023-03-03 23:43:28.158359+0:00',1,2)
INSERT INTO COMPOUND VALUES(3,'Test Compound 3','ISIS-3',NULL,NULL,'53333-33',NULL,NULL,'2023-03-03 23:43:28.158359+0:00',2,1)
INSERT INTO COMPOUND VALUES(4,'Test Compound 4','ISIS-4',NULL,NULL,'54444-44',NULL,NULL,'2023-03-03 23:43:28.158359+0:00',1,2)
INSERT INTO COMPOUND VALUES(5,'Test Compound 5','ISIS-5',NULL,NULL,'55555-55',NULL,NULL,'2023-03-03 23:43:28.158359+0:00',2,1)
INSERT INTO DRUG VALUES(1,'Test Drug 1',1,'MESH1',NULL,99,'B','This is drug number 1.','Indication 1','2023-03-03 23:47:16.397053+0:00',1,'2022-11-23')
INSERT INTO DRUG VALUES(2,'Test Drug 2',2,'MESH2',NULL,198,'A','This is drug number 2.','Indication 2','2023-03-03 23:47:16.397053+0:00',2,'2022-08-15')
INSERT INTO DRUG VALUES(3,'Test Drug 3',3,'MESH3',NULL,297,'B','This is drug number 3.','Indication 3','2023-03-03 23:47:16.397053+0:00',1,'2022-05-07')
INSERT INTO DRUG VALUES(4,'Test Drug 4',4,'MESH4',NULL,396,'A','This is drug number 4.','Indication 4','2023-03-03 23:47:16.397053+0:00',2,'2022-01-27')
INSERT INTO DRUG VALUES(5,'Test Drug 5',5,'MESH5',NULL,495,'B','This is drug number 5.','Indication 5','2023-03-03 23:47:16.397053+0:00',1,'2021-10-19')
INSERT INTO REFERENCE VALUES(101,'Publication 1 about drug # 1')
INSERT INTO REFERENCE VALUES(102,'Publication 2 about drug # 1')
INSERT INTO REFERENCE VALUES(103,'Publication 3 about drug # 1')
INSERT INTO REFERENCE VALUES(201,'Publication 1 about drug # 2')
INSERT INTO REFERENCE VALUES(202,'Publication 2 about drug # 2')
INSERT INTO REFERENCE VALUES(203,'Publication 3 about drug # 2')
INSERT INTO REFERENCE VALUES(301,'Publication 1 about drug # 3')
INSERT INTO REFERENCE VALUES(302,'Publication 2 about drug # 3')
INSERT INTO REFERENCE VALUES(303,'Publication 3 about drug # 3')
INSERT INTO REFERENCE VALUES(401,'Publication 1 about drug # 4')
INSERT INTO REFERENCE VALUES(402,'Publication 2 about drug # 4')
INSERT INTO REFERENCE VALUES(403,'Publication 3 about drug # 4')
INSERT INTO REFERENCE VALUES(501,'Publication 1 about drug # 5')
INSERT INTO REFERENCE VALUES(502,'Publication 2 about drug # 5')
INSERT INTO REFERENCE VALUES(503,'Publication 3 about drug # 5')
INSERT INTO DRUG_REFERENCE VALUES(1,101,1)
INSERT INTO DRUG_REFERENCE VALUES(1,102,1)
INSERT INTO DRUG_REFERENCE VALUES(1,103,1)
INSERT INTO DRUG_REFERENCE VALUES(2,201,2)
INSERT INTO DRUG_REFERENCE VALUES(2,202,2)
INSERT INTO DRUG_REFERENCE VALUES(2,203,2)
INSERT INTO DRUG_REFERENCE VALUES(3,301,3)
INSERT INTO DRUG_REFERENCE VALUES(3,302,3)
INSERT INTO DRUG_REFERENCE VALUES(3,303,3)
INSERT INTO DRUG_REFERENCE VALUES(4,401,4)
INSERT INTO DRUG_REFERENCE VALUES(4,402,4)
INSERT INTO DRUG_REFERENCE VALUES(4,403,4)
INSERT INTO DRUG_REFERENCE VALUES(5,501,5)
INSERT INTO DRUG_REFERENCE VALUES(5,502,5)
INSERT INTO DRUG_REFERENCE VALUES(5,503,5)
INSERT INTO AUTHORITY VALUES(1,'FDA','http://www.fda.gov','Food and Drug Administration',100)
INSERT INTO AUTHORITY VALUES(2,'Anonymous',NULL,'Various People with Opinions',0)
INSERT INTO ADVISORY_TYPE VALUES(1,'Boxed Warning',1)
INSERT INTO ADVISORY_TYPE VALUES(2,'Caution',1)
INSERT INTO ADVISORY_TYPE VALUES(3,'Rumor',2)
INSERT INTO ADVISORY VALUES(101,1,1,'Advisory concerning drug 1')
INSERT INTO ADVISORY VALUES(102,1,2,'Caution concerning drug 1')
INSERT INTO ADVISORY VALUES(123,1,3,'Heard this might be bad -anon1')
INSERT INTO ADVISORY VALUES(201,2,1,'Advisory concerning drug 2')
INSERT INTO ADVISORY VALUES(202,2,2,'Caution concerning drug 2')
INSERT INTO ADVISORY VALUES(246,2,3,'Heard this might be bad -anon2')
INSERT INTO ADVISORY VALUES(301,3,1,'Advisory concerning drug 3')
INSERT INTO ADVISORY VALUES(302,3,2,'Caution concerning drug 3')
INSERT INTO ADVISORY VALUES(369,3,3,'Heard this might be bad -anon3')
INSERT INTO ADVISORY VALUES(401,4,1,'Advisory concerning drug 4')
INSERT INTO ADVISORY VALUES(402,4,2,'Caution concerning drug 4')
INSERT INTO ADVISORY VALUES(492,4,3,'Heard this might be bad -anon4')
INSERT INTO ADVISORY VALUES(501,5,1,'Advisory concerning drug 5')
INSERT INTO ADVISORY VALUES(502,5,2,'Caution concerning drug 5')
INSERT INTO ADVISORY VALUES(615,5,3,'Heard this might be bad -anon5')
INSERT INTO FUNCTIONAL_CATEGORY VALUES(1,'Category A','Top level category A',NULL)
INSERT INTO FUNCTIONAL_CATEGORY VALUES(2,'Category A.1','sub category 1 of A',1)
INSERT INTO FUNCTIONAL_CATEGORY VALUES(3,'Category A.1.1','sub category 1 of A.1',2)
INSERT INTO FUNCTIONAL_CATEGORY VALUES(4,'Category B','Top level category B',NULL)
INSERT INTO FUNCTIONAL_CATEGORY VALUES(5,'Category B.1','sub category 1 of B',4)
INSERT INTO FUNCTIONAL_CATEGORY VALUES(6,'Category B.1.1','sub category 1 of B.1',5)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(1,2,1,1)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(1,5,1,2)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(2,3,1,1)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(2,6,1,2)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(3,1,1,1)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(3,4,1,2)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(4,2,1,1)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(4,5,1,2)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(5,3,1,1)
INSERT INTO DRUG_FUNCTIONAL_CATEGORY VALUES(5,6,1,2)
INSERT INTO MANUFACTURER VALUES(1,'Acme Drug Co')
INSERT INTO MANUFACTURER VALUES(2,'PharmaCorp')
INSERT INTO MANUFACTURER VALUES(3,'SellsAll Drug Co.')
INSERT INTO BRAND VALUES(1,'Brand1(TM)','EN',2)
INSERT INTO BRAND VALUES(2,'Brand2(TM)','EN',3)
INSERT INTO BRAND VALUES(3,'Brand3(TM)','EN',1)
INSERT INTO BRAND VALUES(4,'Brand4(TM)','EN',2)
INSERT INTO BRAND VALUES(5,'Brand5(TM)','EN',3)
